{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gal\\\\Desktop\\\\Udemy\\\\event_finder_app\\\\src\\\\components\\\\CalendarTest.js\";\nimport React from 'react';\nimport EventCalendar from 'react-event-calendar'; // const events = [\n//     {\n//         start: '2015-07-20',\n//         end: '2015-07-02',\n//         eventClasses: 'optionalEvent'\n//         title: 'test event',\n//         description: 'This is a test description of an event',\n//     },\n//     {\n//         start: '2015-07-19',\n//         end: '2015-07-25',\n//         title: 'test event',\n//         description: 'This is a test description of an event',\n//         data: 'you can add what ever random data you may want to use later',\n//     },\n// ];\n\nconsole.log('got to calendar component');\n\nclass CalendarTest extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getEvents = () => {\n      const fetchUrl = 'http://localhost:5000/calendar/' + this.props.countryCode + '/' + this.props.city;\n      fetch(fetchUrl).then(res => res.json()).then(data => console.log(data));\n    };\n\n    this.SaveSearch = () => {\n      fetch('http://localhost:5000/saveSearch', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: this.props.userId,\n          city: this.props.city,\n          countryCode: this.props.countryCode\n        })\n      }).then(response => response.json()).then(user => {\n        console.log('user back in cal:', user);\n        console.log('userid back in cal:', user[0]);\n\n        if (user[0] === parseInt(this.props.userId)) {\n          const btnDiv = document.getElementById('buttonDiv');\n          const msg = document.createElement(\"p\");\n          msg.textContent = \"search saved to your profile!\";\n          btnDiv.appendChild(msg);\n        }\n      });\n    };\n\n    this.state = {\n      events: [{\n        start: '2019-01-20',\n        end: '2015-07-02',\n        eventClasses: 'optionalEvent',\n        title: 'test event',\n        description: 'This is a test description of an event'\n      }, {\n        start: '2019-01-19',\n        end: '2015-07-25',\n        title: 'test event',\n        description: 'This is a test description of an event',\n        data: 'you can add what ever random data you may want to use later'\n      }]\n    };\n  } // createCalendar = () =>{\n  // \tconst city = this.props.city;\n  // \tconst countryCode = this.props.countryCode;\n  // \tconst calDiv = document.getElementById('calendar');\n  // \tif (calDiv.childElementCount){\n  //     \tlet innerDiv = document.getElementById('innerCalendar');\n  //     \tinnerDiv.remove();\n  //     }\n  // \tconst div = document.createElement('div');\n  // \tcalDiv.appendChild(div);\n  // }\n\n\n  componentDidMount() {\n    if (this.props.city) {\n      this.getEvents();\n    }\n  }\n\n  render() {\n    const events = this.state.events;\n\n    if (this.props.isSignedIn) {\n      return React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(EventCalendar, {\n        month: 1,\n        year: 2019,\n        events: events,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"buttonDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"h3 ma4\",\n        onClick: this.SaveSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Save This Search\")));\n    } else {\n      return React.createElement(\"div\", {\n        id: \"calendar\",\n        className: \"pa4\",\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(EventCalendar, {\n        month: 1,\n        year: 2019,\n        events: events,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default CalendarTest;","map":{"version":3,"sources":["C:/Users/Gal/Desktop/Udemy/event_finder_app/src/components/CalendarTest.js"],"names":["React","EventCalendar","console","log","CalendarTest","Component","constructor","props","getEvents","fetchUrl","countryCode","city","fetch","then","res","json","data","SaveSearch","method","headers","body","JSON","stringify","user","userId","response","parseInt","btnDiv","document","getElementById","msg","createElement","textContent","appendChild","state","events","start","end","eventClasses","title","description","componentDidMount","render","isSignedIn","display","justifyContent"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport EventCalendar from 'react-event-calendar';\r\n\r\n// const events = [\r\n//     {\r\n//         start: '2015-07-20',\r\n//         end: '2015-07-02',\r\n//         eventClasses: 'optionalEvent'\r\n//         title: 'test event',\r\n//         description: 'This is a test description of an event',\r\n//     },\r\n//     {\r\n//         start: '2015-07-19',\r\n//         end: '2015-07-25',\r\n//         title: 'test event',\r\n//         description: 'This is a test description of an event',\r\n//         data: 'you can add what ever random data you may want to use later',\r\n//     },\r\n// ];\r\n\r\nconsole.log('got to calendar component');\r\nclass CalendarTest extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tevents : [\r\n\t\t\t{\r\n\t\t        start: '2019-01-20',\r\n\t\t        end: '2015-07-02',\r\n\t\t        eventClasses: 'optionalEvent',\r\n\t\t        title: 'test event',\r\n\t\t        description: 'This is a test description of an event',\r\n\t\t    },\r\n\t\t    {\r\n\t\t        start: '2019-01-19',\r\n\t\t        end: '2015-07-25',\r\n\t\t        title: 'test event',\r\n\t\t        description: 'This is a test description of an event',\r\n\t\t        data: 'you can add what ever random data you may want to use later',\r\n\t\t    }\r\n\t\t    ]\r\n\t\t}}\r\n\t// createCalendar = () =>{\r\n\t// \tconst city = this.props.city;\r\n\t// \tconst countryCode = this.props.countryCode;\r\n\t// \tconst calDiv = document.getElementById('calendar');\r\n\t// \tif (calDiv.childElementCount){\r\n\t//     \tlet innerDiv = document.getElementById('innerCalendar');\r\n\t//     \tinnerDiv.remove();\r\n\t//     }\r\n\t// \tconst div = document.createElement('div');\r\n\t\t\r\n\t// \tcalDiv.appendChild(div);\r\n\t// }\r\n\r\n\tgetEvents= () => {\r\n\t\tconst fetchUrl = 'http://localhost:5000/calendar/' + this.props.countryCode + '/' + this.props.city;\r\n\t\tfetch(fetchUrl).then(res => res.json()).then(data => console.log(data));\r\n\t}\r\n\r\n\tSaveSearch = () => {\r\n\t\tfetch('http://localhost:5000/saveSearch', {\r\n\t      method: 'post',\r\n\t      headers: {'Content-Type': 'application/json'},\r\n\t      body: JSON.stringify({\r\n\t        user : this.props.userId,\r\n\t        city: this.props.city,\r\n\t        countryCode: this.props.countryCode\r\n\t      })\r\n\t    })\r\n\t      .then(response => response.json())\r\n\t      .then(user => {\r\n\t      \tconsole.log('user back in cal:',user);\r\n\t      \tconsole.log('userid back in cal:',user[0]);\r\n\t        if (user[0] === parseInt(this.props.userId)) {\r\n\t        \tconst btnDiv = document.getElementById('buttonDiv');\r\n\t        \tconst msg = document.createElement(\"p\");\r\n\t        \tmsg.textContent = \"search saved to your profile!\";\r\n\t        \tbtnDiv.appendChild(msg);\r\n\t        }\r\n\t      })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif(this.props.city){\r\n\t\t\tthis.getEvents();\r\n\t\t}\r\n  \t}\r\n\r\n\trender(){\r\n\t\tconst {events} = this.state;\r\n\t\tif(this.props.isSignedIn){\r\n\t\t\treturn(\r\n\t\t\t\t<div style={{display:'flex', justifyContent:'center'}}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<EventCalendar \r\n\t\t\t\t\t\t    month={1}\r\n\t\t\t\t\t\t    year={2019}\r\n\t\t\t\t\t\t    events={events} \r\n\t\t\t\t\t\t    />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id='buttonDiv'>\r\n\t\t\t\t\t<button className='h3 ma4' onClick={this.SaveSearch}>Save This Search</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> \r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<div id='calendar' className='pa4' style={{display:'flex', justifyContent:'center'}}>\r\n\t\t\t\t\t<EventCalendar \r\n\t\t\t\t\t\t    month={1}\r\n\t\t\t\t\t\t    year={2019}\r\n\t\t\t\t\t\t    events={events} \r\n\t\t\t\t\t\t    />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t\t\r\n}\r\n\r\nexport default CalendarTest;"]},"metadata":{},"sourceType":"module"}