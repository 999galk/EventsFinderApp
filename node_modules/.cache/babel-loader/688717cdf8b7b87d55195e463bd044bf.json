{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gal\\\\Desktop\\\\Udemy\\\\event_finder_app\\\\src\\\\components\\\\SearchBar.js\";\nimport React from 'react';\nimport Calendar from './Calendar';\nimport { CountryDropdown } from 'react-country-region-selector';\nimport { getCode } from 'country-list';\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getCountryCode = () => {\n      console.log('getCountryCode');\n      const countryName = this.state.country;\n\n      if (countryName === 'United States') {\n        this.setState({\n          countryCode: 'US'\n        }, this.getCitiesOfCountry);\n      } else {\n        console.log('name:', countryName);\n        console.log('code:', getCode(countryName));\n        this.setState({\n          countryCode: getCode(countryName)\n        }, this.getCitiesOfCountry);\n      }\n    };\n\n    this.getCitiesOfCountry = () => {\n      console.log('code in get:', this.state.countryCode);\n      fetch('http://localhost:5000/cities', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          code: this.state.countryCode\n        })\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          cityList: data\n        }, this.updateCityOptions);\n      });\n    };\n\n    this.updateCityOptions = () => {\n      const cities = this.state.cityList;\n      console.log('cities in dropdown:', cities);\n      const div = document.getElementById('cities');\n\n      if (div.childElementCount) {\n        let select = document.getElementById('citySelector');\n        select.remove();\n      }\n\n      const select = document.createElement('select');\n      select.id = 'citySelector';\n      select.className = 'pa3 ba br3 b--blue bg-lightest-blue ma2';\n      select.addEventListener(\"change\", () => {\n        this.onCityChange(select.value);\n      });\n      div.appendChild(select);\n      cities.forEach(city => {\n        let op = document.createElement('option');\n        op.textContent = city;\n        op.value = city;\n        select.appendChild(op);\n      }, this.setState({\n        city: cities[0]\n      }));\n    };\n\n    this.state = {\n      country: '',\n      countryCode: '',\n      city: '',\n      cityList: [],\n      period: '',\n      calChanged: false\n    };\n  }\n\n  onCountryChange(val) {\n    this.setState({\n      country: val\n    }, this.getCountryCode);\n  }\n\n  onCityChange(val) {\n    if (this.state.calChanged === true) {\n      this.setState({\n        calChanged: false\n      }, this.setState({\n        city: val\n      }));\n    }\n\n    this.setState({\n      calChanged: true\n    });\n  }\n\n  componentDidMount() {\n    console.log('componentDidMount');\n    this.forceUpdate();\n  }\n\n  render() {\n    const _this$state = this.state,\n          country = _this$state.country,\n          countryCode = _this$state.countryCode,\n          city = _this$state.city,\n          calChanged = _this$state.calChanged;\n    console.log('got to render, city is:', city);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '25%',\n        left: '30%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \" Where are you going?\"), React.createElement(\"div\", {\n      className: \"br3 pa5 shadow-5\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        backgroundColor: '#24478f',\n        marginLeft: 'auto',\n        marginRight: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(CountryDropdown, {\n      className: \"pa3 ba br3 b--blue bg-lightest-blue ma2\",\n      value: country,\n      onChange: val => this.onCountryChange(val),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"cities\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      id: \"citySelector\",\n      className: \"pa3 ba br3 b--blue bg-lightest-blue ma2\",\n      onChange: val => this.onCityChange(val),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Select City\"))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, calChanged ? React.createElement(Calendar, {\n      city: city,\n      countryCode: countryCode,\n      isSignedIn: this.props.isSignedIn,\n      userId: this.props.userId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Recomendations for you:\"), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tc grow card-bg br3 pa4 ma3 mb5 dib bw2 shadow-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        width: 300\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Scroll through the hottest destinations of 2020\")), React.createElement(\"img\", {\n      className: \"grow pointer\",\n      alt: \"Travel\",\n      src: \"https://content.skyscnr.com/b62fd4346123d1eb9f7525c8f72f2a8a/stock-photo-new-york-city-at-twilight-128894587.jpg?resize=450px:450px\",\n      width: \"450px\",\n      height: \"450px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        width: 300\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"You sure deserve a spontanious vacation!\"))), React.createElement(\"div\", {\n      className: \"tc grow card-bg br3 pa4 ma3 mb5 dib bw2 shadow-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"image hi-res-image-loaded\",\n      src: \"https://content.skyscnr.com/b62fd4346123d1eb9f7525c8f72f2a8a/stock-photo-new-york-city-at-twilight-128894587.jpg?resize=450px:450px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"scrim sparkle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"city\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"New York, NY, \"), React.createElement(\"span\", {\n      className: \"country\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"United States\"))))))))));\n  }\n\n}\n\nexport default SearchBar;","map":{"version":3,"sources":["C:/Users/Gal/Desktop/Udemy/event_finder_app/src/components/SearchBar.js"],"names":["React","Calendar","CountryDropdown","getCode","SearchBar","Component","constructor","props","getCountryCode","console","log","countryName","state","country","setState","countryCode","getCitiesOfCountry","fetch","method","headers","body","JSON","stringify","code","then","res","json","data","cityList","updateCityOptions","cities","div","document","getElementById","childElementCount","select","remove","createElement","id","className","addEventListener","onCityChange","value","appendChild","forEach","city","op","textContent","period","calChanged","onCountryChange","val","componentDidMount","forceUpdate","render","position","top","left","display","justifyContent","backgroundColor","marginLeft","marginRight","isSignedIn","userId","width"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Calendar from './Calendar';\r\nimport { CountryDropdown } from 'react-country-region-selector';\r\nimport { getCode } from 'country-list';\r\n\r\nclass SearchBar extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcountry : '',\r\n\t\t\tcountryCode : '',\r\n\t\t\tcity : '',\r\n\t\t\tcityList : [],\r\n\t\t\tperiod : '',\r\n\t\t\tcalChanged : false\r\n\t\t}\r\n\t}\r\n\r\n\tonCountryChange (val) {\r\n\t    this.setState({ country: val },this.getCountryCode);\r\n\t}\r\n\r\n\tgetCountryCode = () => {\r\n\t\tconsole.log('getCountryCode');\r\n\t\tconst countryName = this.state.country;\r\n\t\tif(countryName === 'United States'){\r\n\t\t\tthis.setState({countryCode : 'US'}, this.getCitiesOfCountry);\r\n\t\t}else{\r\n\t\t\tconsole.log('name:',countryName);\r\n\t\t\tconsole.log('code:', getCode(countryName));\r\n\t\t\tthis.setState({countryCode : getCode(countryName)}, this.getCitiesOfCountry);\r\n\t\t}\r\n\t}\r\n\r\n\tonCityChange (val) {\r\n\t\tif(this.state.calChanged === true){\r\n\t\t\tthis.setState({calChanged : false}, this.setState({ city: val }));\r\n\t\t}\r\n\t\tthis.setState({calChanged : true});\r\n\t}\r\n\r\n\tgetCitiesOfCountry = () => {\r\n\t\tconsole.log('code in get:', this.state.countryCode);\r\n\t\tfetch('http://localhost:5000/cities', {\r\n\t      method: 'post',\r\n\t      headers: {'Content-Type': 'application/json'},\r\n\t      body: JSON.stringify({\r\n\t        code: this.state.countryCode\r\n\t      })\r\n\t    })\r\n\t    .then(res => res.json())\r\n\t    .then(data => {\r\n\t    \tthis.setState({cityList : data}, this.updateCityOptions);\r\n\t    })\r\n\t}\r\n\r\n\tupdateCityOptions = () => {\r\n\t\tconst cities = this.state.cityList;\r\n\t    console.log('cities in dropdown:', cities);\r\n\t    const div = document.getElementById('cities');\r\n\t    if (div.childElementCount){\r\n\t    \tlet select = document.getElementById('citySelector');\r\n\t    \tselect.remove();\r\n\t    }\r\n    \tconst select = document.createElement('select');\r\n    \tselect.id = 'citySelector';\r\n    \tselect.className = 'pa3 ba br3 b--blue bg-lightest-blue ma2';\r\n    \tselect.addEventListener(\"change\", () => {this.onCityChange(select.value)});\r\n\t    div.appendChild(select);\r\n\t    cities.forEach(city => {\r\n\t    \tlet op = document.createElement('option');\r\n\t    \top.textContent = city;\r\n\t    \top.value = city;\r\n\t    \tselect.appendChild(op);\r\n\t    \t}, this.setState({city : cities[0]}))  \r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log('componentDidMount');\r\n\t\tthis.forceUpdate();\r\n\t    \r\n  \t}\r\n\r\n  \trender(){\r\n  \t\tconst {country, countryCode, city, calChanged} = this.state;\r\n  \t\tconsole.log('got to render, city is:', city);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<div style={{ position: 'absolute', top: '25%', left:'30%'}}>\r\n\t\t\t\t<h1> Where are you going?</h1>\r\n\t\t\t\t<div className='br3 pa5 shadow-5' style={{display:'flex', justifyContent:'center', backgroundColor:'#24478f', marginLeft:'auto', marginRight:'auto'}}>\r\n\t\t\t\t\t<CountryDropdown\r\n\t\t\t\t\tclassName='pa3 ba br3 b--blue bg-lightest-blue ma2'\r\n\t\t\t          value={country}\r\n\t\t\t          onChange={(val) => this.onCountryChange(val)}/>\r\n\t\t\t\t\t<div id='cities'>\r\n\t\t\t\t\t\t<select id='citySelector' className='pa3 ba br3 b--blue bg-lightest-blue ma2' onChange={(val) => this.onCityChange(val)}>\r\n\t\t\t\t\t\t\t<option value>Select City</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{\r\n\t\t\t\t\tcalChanged\r\n\t\t\t\t\t?<Calendar city={city} countryCode={countryCode} isSignedIn={this.props.isSignedIn} userId={this.props.userId}/> \r\n\t\t\t\t\t: <div>\r\n\t\t\t\t\t\t<h2>Recomendations for you:</h2>\r\n\t\t\t\t\t\t<div style={{display:'flex', justifyContent:'center'}}>\r\n\t\t\t\t\t\t\t<div className='tc grow card-bg br3 pa4 ma3 mb5 dib bw2 shadow-5'>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t        \t\t<h2 style={{width:300}}>Scroll through the hottest destinations of 2020</h2> \r\n\t\t\t\t      \t\t\t</div>\r\n\t\t\t\t      \t\t\t<img className='grow pointer' alt='Travel' src=\"https://content.skyscnr.com/b62fd4346123d1eb9f7525c8f72f2a8a/stock-photo-new-york-city-at-twilight-128894587.jpg?resize=450px:450px\" width='450px' height='450px'/>\r\n\t\t\t\t      \t\t\t<div>\r\n\t\t\t\t      \t\t\t\t<p style={{width:300}}>You sure deserve a spontanious vacation!</p>\r\n\t\t\t\t      \t\t\t</div>\r\n\t\t\t\t    \t\t</div>\r\n\t\t\t\t\t\t\t<div className='tc grow card-bg br3 pa4 ma3 mb5 dib bw2 shadow-5'>\r\n\t\t\t\t\t\t\t<img className=\"image hi-res-image-loaded\" src=\"https://content.skyscnr.com/b62fd4346123d1eb9f7525c8f72f2a8a/stock-photo-new-york-city-at-twilight-128894587.jpg?resize=450px:450px\" />\r\n\t\t\t\t\t\t\t<div className=\"scrim sparkle\">\r\n\t\t\t\t\t\t  \t<div className=\"title-container\">\r\n\t\t\t\t\t\t    <div className=\"title\"><h4><span className=\"city\">New York, NY, </span><span className=\"country\">United States</span></h4></div>\r\n\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t    </div>\r\n\t\t    </div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SearchBar;"]},"metadata":{},"sourceType":"module"}