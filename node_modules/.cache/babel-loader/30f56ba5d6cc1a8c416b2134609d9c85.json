{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gal\\\\Desktop\\\\Udemy\\\\event_finder_app\\\\src\\\\components\\\\Profile.js\";\nimport React from 'react';\nimport Calendar from './Calendar';\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getSavedSearches = () => {\n      const fetchUrl = 'http://localhost:5000/userSearch/' + this.props.userId;\n      fetch(fetchUrl).then(res => res.json()).then(data => {\n        console.log(data);\n        data.forEach(event => {\n          console.log(data);\n          const name = event.name;\n          const img = event.images[5].url;\n          const link = event.url;\n          const newEvent = document.createElement('div');\n          const detailsButton = document.createElement('button');\n          newEvent.className = 'grow pa3 ba br3 b--blue bg-lightest-blue ma2 pointer';\n          newEvent.textContent = name;\n          detailsButton.textContent = \"Details\";\n          detailsButton.addEventListener(\"click\", () => {\n            window.location.href = link;\n          });\n          newEvent.appendChild(detailsButton);\n          document.getElementById('events').appendChild(newEvent); // \tmainDiv.appendChild(newCal);\n          // })\n        });\n      });\n    };\n\n    this.createCalendar = () => {\n      this.setState({\n        cal: true\n      });\n    };\n\n    this.getStarredEvents = () => {};\n\n    this.state = {\n      cal: false,\n      city: '',\n      countryCode: '',\n      isSignedIn: false,\n      eventTitle: 'Powered By',\n      eventImg: 'https://uk.tmconst.com/ccp-salesforce-images/DK/ticketmaster_guider_720x405.jpg',\n      eventLink: 'https://www.ticketmaster.com/'\n    };\n  }\n\n  componentDidMount() {\n    this.getSavedSearches();\n    window.onpopstate = this.props.onBackButtonEvent;\n  }\n\n  render() {\n    const _this$state = this.state,\n          cal = _this$state.cal,\n          city = _this$state.city,\n          countryCode = _this$state.countryCode;\n\n    if (cal) {\n      console.log('props in render:', cal, city, countryCode);\n      return React.createElement(Calendar, {\n        city: city,\n        countryCode: countryCode,\n        isSignedIn: this.state.isSignedIn,\n        userId: this.props.userId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        id: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Your Saved Searchs:\"), React.createElement(\"div\", {\n        id: \"events\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/Gal/Desktop/Udemy/event_finder_app/src/components/Profile.js"],"names":["React","Calendar","Profile","Component","constructor","props","getSavedSearches","fetchUrl","userId","fetch","then","res","json","data","console","log","forEach","event","name","img","images","url","link","newEvent","document","createElement","detailsButton","className","textContent","addEventListener","window","location","href","appendChild","getElementById","createCalendar","setState","cal","getStarredEvents","state","city","countryCode","isSignedIn","eventTitle","eventImg","eventLink","componentDidMount","onpopstate","onBackButtonEvent","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Calendar from './Calendar';\r\n\r\nclass Profile extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcal : false,\r\n\t\t\tcity : '',\r\n\t\t\tcountryCode : '',\r\n\t\t\tisSignedIn : false,\r\n\t\t\teventTitle : 'Powered By',\r\n\t\t\teventImg : 'https://uk.tmconst.com/ccp-salesforce-images/DK/ticketmaster_guider_720x405.jpg',\r\n\t\t\teventLink : 'https://www.ticketmaster.com/',\r\n\t\t}\r\n\t}\r\n\r\n\tgetSavedSearches = () => {\r\n\t\tconst fetchUrl = 'http://localhost:5000/userSearch/' + this.props.userId;\r\n\t\tfetch(fetchUrl)\r\n\t    .then(res => res.json())\r\n\t    .then(data => {\r\n\t    \tconsole.log(data);\r\n\t    \tdata.forEach(event => {\r\n\t    \t\tconsole.log(data);\r\n\t    \t\tconst name = event.name;\r\n\t    \t\tconst img = event.images[5].url;\r\n\t    \t\tconst link = event.url;\r\n\t    \t\tconst newEvent = document.createElement('div');\r\n\t    \t\tconst detailsButton = document.createElement('button');\r\n\t    \t\tnewEvent.className = 'grow pa3 ba br3 b--blue bg-lightest-blue ma2 pointer';\r\n\t    \t\tnewEvent.textContent = name;\r\n\t    \t\tdetailsButton.textContent = \"Details\";\r\n\t    \t\tdetailsButton.addEventListener(\"click\", () => {\r\n\t    \t\t\twindow.location.href = link;\r\n\t    \t\t});\r\n\t    \t\tnewEvent.appendChild(detailsButton);\r\n\t    \t\tdocument.getElementById('events').appendChild(newEvent);\r\n\t    \t// \tmainDiv.appendChild(newCal);\r\n\t    \t// })\r\n\t    });\r\n\t    })\r\n\t}\r\n\r\n\tcreateCalendar = () => {\r\n\t\tthis.setState({cal : true});\r\n\t}\r\n\r\n\tgetStarredEvents = () => {\r\n\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.getSavedSearches();\r\n\t\twindow.onpopstate = this.props.onBackButtonEvent;\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {cal, city, countryCode} = this.state;\r\n\t\tif (cal){\r\n\t\t\tconsole.log('props in render:' ,cal, city, countryCode);\r\n\t\t\treturn(\r\n\t\t\t\t<Calendar city={city} countryCode={countryCode} isSignedIn={this.state.isSignedIn} userId={this.props.userId}/>\r\n\t\t\t);\r\n\t\t}else {\r\n\t\t\treturn(\r\n\t\t\t<div id='main'>\r\n\t\t\t\t<h1>Your Saved Searchs:</h1>\r\n\t\t\t\t<div id='events'>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}