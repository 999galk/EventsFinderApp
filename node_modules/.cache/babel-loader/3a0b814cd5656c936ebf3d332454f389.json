{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gal\\\\Desktop\\\\Udemy\\\\event_finder_app\\\\src\\\\components\\\\CalendarTest.js\";\nimport React from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport 'react-big-calendar/lib/sass/styles.scss';\nimport './Calendar.css';\nimport EventDetails from './EventDetails';\nconst localizer = momentLocalizer(moment);\nconsole.log('got to calendar component');\n\nclass CalendarTest extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.SaveSearch = () => {\n      fetch('http://localhost:5000/saveSearch', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: this.props.userId,\n          city: this.props.city,\n          countryCode: this.props.countryCode\n        })\n      }).then(response => response.json()).then(user => {\n        console.log('user back in cal:', user);\n        console.log('userid back in cal:', user[0]);\n\n        if (user[0] === parseInt(this.props.userId)) {\n          const btnDiv = document.getElementById('buttonDiv');\n          const msg = document.createElement(\"p\");\n          msg.textContent = \"search saved to your profile!\";\n          btnDiv.appendChild(msg);\n        }\n      });\n    };\n\n    this.getEvents = () => {\n      const fetchUrl = 'http://localhost:5000/calendar/' + this.props.countryCode + '/' + this.props.city;\n      fetch(fetchUrl).then(res => res.json()).then(data => console.log(data)); // .then(data => {\n      // \tconst eventsArr = data[Object.keys(data)[0]].events;\n      // \tconsole.log('arr:', eventsArr.events);\n      // \tconst tempEventsArr = eventsArr.map(event => {\n      // \t\tconsole.log('event is:', event);\n      // \t\tconst startDate = new Date(event.dates.start.dateTime);\n      // \t\tconst endDate = new Date(startDate + 1);\n      // \t\tconst obj = {\n      // \t\t\tid : event.id,\n      // \t\t\ttitle : event.name,\n      // \t\t\tstart : startDate,\n      // \t\t\tend : endDate,\n      // \t\t\timg : event.images[5].url,\n      // \t\t\tticketsUrl : event.url\n      // \t\t}\n      // \t\tconsole.log('obj is:', obj);\n      // \t\treturn obj;\n      // \t})\n      // \tthis.setState({events : tempEventsArr}, this.addClickFunctions);\n      // });\n    };\n\n    this.addClickFunctions = () => {\n      const eventsClasses = document.querySelectorAll(\".rbc-event\");\n\n      if (eventsClasses) {\n        console.log('found eventClasses of rbc-event');\n        eventsClasses.forEach(div => {\n          const selectedEvent = this.getEventObj(div);\n          console.log('selected events in addclicks:', selectedEvent);\n          console.log('div to add listener:', div);\n          div.addEventListener(\"click\", () => {\n            console.log('recognized click, div:', div);\n            this.setState({\n              eventImg: selectedEvent[0].img,\n              eventLink: selectedEvent[0].ticketsUrl,\n              eventTitle: selectedEvent[0].title\n            });\n          });\n        });\n      }\n    };\n\n    this.getEventObj = div => {\n      console.log(div);\n      let title;\n\n      if (div.title) {\n        title = div.children[1].innerText;\n      } else {\n        title = div.firstElementChild.title;\n      }\n\n      console.log('title:', title);\n      const selectedEvent = this.state.events.filter(obj => obj.title === title);\n      console.log('selected events:', selectedEvent);\n      return selectedEvent;\n    };\n\n    this.state = {\n      events: [],\n      eventTitle: 'Powered By',\n      eventImg: 'https://uk.tmconst.com/ccp-salesforce-images/DK/ticketmaster_guider_720x405.jpg',\n      eventLink: 'https://www.ticketmaster.com/'\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.city) {\n      this.getEvents();\n    }\n\n    const toolBar = document.getElementsByClassName('rbc-toolbar')[0];\n    toolBar.addEventListener(\"click\", () => {\n      console.log('click on toolbar');\n      this.getEvents();\n    });\n    const showMore = document.getElementsByClassName('rbc-show-more');\n\n    if (showMore) {\n      for (let i = 0; i < showMore.length; i++) {\n        showMore[i].addEventListener(\"click\", () => {\n          console.log('click on showMore');\n          this.getEvents();\n        });\n      }\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          events = _this$state.events,\n          eventImg = _this$state.eventImg,\n          eventLink = _this$state.eventLink,\n          eventTitle = _this$state.eventTitle;\n\n    if (this.props.isSignedIn) {\n      return React.createElement(\"div\", {\n        id: \"calendar\",\n        className: \"pa2 ma2 shadow-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Calendar, {\n        localizer: localizer,\n        events: events,\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        style: {\n          height: 500\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(EventDetails, {\n        eventImg: eventImg,\n        eventLink: eventLink,\n        eventTitle: eventTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"buttonDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"h3 ma4\",\n        onClick: this.SaveSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Save This Event\")));\n    } else {\n      return React.createElement(\"div\", {\n        id: \"calendar\",\n        className: \"pa2 ma2 shadow-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Calendar, {\n        localizer: localizer,\n        events: events,\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        style: {\n          height: 500\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(EventDetails, {\n        eventImg: eventImg,\n        eventLink: eventLink,\n        eventTitle: eventTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })));\n    }\n  }\n\n}\n\nexport default CalendarTest;","map":{"version":3,"sources":["C:/Users/Gal/Desktop/Udemy/event_finder_app/src/components/CalendarTest.js"],"names":["React","Calendar","momentLocalizer","moment","EventDetails","localizer","console","log","CalendarTest","Component","constructor","props","SaveSearch","fetch","method","headers","body","JSON","stringify","user","userId","city","countryCode","then","response","json","parseInt","btnDiv","document","getElementById","msg","createElement","textContent","appendChild","getEvents","fetchUrl","res","data","addClickFunctions","eventsClasses","querySelectorAll","forEach","div","selectedEvent","getEventObj","addEventListener","setState","eventImg","img","eventLink","ticketsUrl","eventTitle","title","children","innerText","firstElementChild","state","events","filter","obj","componentDidMount","toolBar","getElementsByClassName","showMore","i","length","render","isSignedIn","height","display","justifyContent"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\nimport moment from 'moment';\r\nimport 'react-big-calendar/lib/sass/styles.scss';\r\nimport './Calendar.css';\r\nimport EventDetails from './EventDetails';\r\n \r\nconst localizer = momentLocalizer(moment)\r\n \r\nconsole.log('got to calendar component');\r\nclass CalendarTest extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tevents : [],\r\n\t\t\teventTitle : 'Powered By',\r\n\t\t\teventImg : 'https://uk.tmconst.com/ccp-salesforce-images/DK/ticketmaster_guider_720x405.jpg',\r\n\t\t\teventLink : 'https://www.ticketmaster.com/'\r\n\t\t}}\r\n\r\n\tSaveSearch = () => {\r\n\t\tfetch('http://localhost:5000/saveSearch', {\r\n\t      method: 'post',\r\n\t      headers: {'Content-Type': 'application/json'},\r\n\t      body: JSON.stringify({\r\n\t        user : this.props.userId,\r\n\t        city: this.props.city,\r\n\t        countryCode: this.props.countryCode\r\n\t      })\r\n\t    })\r\n\t      .then(response => response.json())\r\n\t      .then(user => {\r\n\t      \tconsole.log('user back in cal:',user);\r\n\t      \tconsole.log('userid back in cal:',user[0]);\r\n\t        if (user[0] === parseInt(this.props.userId)) {\r\n\t        \tconst btnDiv = document.getElementById('buttonDiv');\r\n\t        \tconst msg = document.createElement(\"p\");\r\n\t        \tmsg.textContent = \"search saved to your profile!\";\r\n\t        \tbtnDiv.appendChild(msg);\r\n\t        }\r\n\t      })\r\n\t}\r\n\r\n\tgetEvents= () => {\r\n\t\tconst fetchUrl = 'http://localhost:5000/calendar/' + this.props.countryCode + '/' + this.props.city;\r\n\t\tfetch(fetchUrl)\r\n\t\t.then(res => res.json()).then(data => console.log(data));\r\n\t\t// .then(data => {\r\n\t\t// \tconst eventsArr = data[Object.keys(data)[0]].events;\r\n\t\t// \tconsole.log('arr:', eventsArr.events);\r\n\t\t// \tconst tempEventsArr = eventsArr.map(event => {\r\n\t\t// \t\tconsole.log('event is:', event);\r\n\t\t// \t\tconst startDate = new Date(event.dates.start.dateTime);\r\n\t\t// \t\tconst endDate = new Date(startDate + 1);\r\n\t\t// \t\tconst obj = {\r\n\t\t// \t\t\tid : event.id,\r\n\t\t// \t\t\ttitle : event.name,\r\n\t\t// \t\t\tstart : startDate,\r\n\t\t// \t\t\tend : endDate,\r\n\t\t// \t\t\timg : event.images[5].url,\r\n\t\t// \t\t\tticketsUrl : event.url\r\n\t\t// \t\t}\r\n\t\t// \t\tconsole.log('obj is:', obj);\r\n\t\t// \t\treturn obj;\r\n\t\t// \t})\r\n\t\t// \tthis.setState({events : tempEventsArr}, this.addClickFunctions);\r\n\t\t// });\r\n\t}\r\n\r\n\taddClickFunctions = () => {\r\n\t\tconst eventsClasses = document.querySelectorAll(\".rbc-event\");\r\n\t\tif(eventsClasses){\r\n\t\t\tconsole.log('found eventClasses of rbc-event');\r\n\t\t\teventsClasses.forEach(div => {\r\n\t\t\t\tconst selectedEvent = this.getEventObj(div);\r\n\t\t\t\tconsole.log('selected events in addclicks:', selectedEvent);\r\n\t\t\t\tconsole.log('div to add listener:', div);\r\n\t\t\t\tdiv.addEventListener(\"click\", () => {\r\n\t\t\t\t\tconsole.log('recognized click, div:', div);\r\n\t\t\t\t\tthis.setState({eventImg : selectedEvent[0].img, \r\n\t\t\t\t\t\t\t\teventLink:selectedEvent[0].ticketsUrl, \r\n\t\t\t\t\t\t\t\teventTitle:selectedEvent[0].title});\r\n\t\t\t\t});\r\n\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tgetEventObj = (div) => {\r\n\t\tconsole.log(div);\r\n\t\tlet title;\r\n\t\tif(div.title){\r\n\t\t\ttitle = div.children[1].innerText;\r\n\t\t}else {\r\n\t\t\ttitle=div.firstElementChild.title;\r\n\t\t}\r\n\t\tconsole.log('title:', title);\r\n\t\tconst selectedEvent = (this.state.events).filter(obj => obj.title === title);\r\n\t\tconsole.log('selected events:', selectedEvent);\r\n\t\treturn selectedEvent;\r\n\t\t\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tif(this.props.city){\r\n\t\t\tthis.getEvents();\r\n\t\t}\r\n\t\tconst toolBar = document.getElementsByClassName('rbc-toolbar')[0];\r\n\t\ttoolBar.addEventListener(\"click\", () => { console.log('click on toolbar'); this.getEvents();});\r\n\t\tconst showMore = document.getElementsByClassName('rbc-show-more');\r\n\t\tif(showMore){\r\n\t\t\tfor(let i=0;i<showMore.length;i++){\r\n\t\t\t\tshowMore[i].addEventListener(\"click\", () => { console.log('click on showMore'); this.getEvents();})\r\n\t\t\t}\r\n\t\t}\r\n  \t}\r\n\r\n\trender(){\r\n\t\tconst {events, eventImg, eventLink, eventTitle} = this.state;\r\n\t\tif(this.props.isSignedIn){\r\n\t\t\treturn(\r\n\t\t\t\t<div id='calendar' className='pa2 ma2 shadow-5'>\r\n\t\t\t\t\t    <Calendar\r\n\t\t\t\t\t      localizer={localizer}\r\n\t\t\t\t\t      events={events}\r\n\t\t\t\t\t      startAccessor=\"start\"\r\n\t\t\t\t\t      endAccessor=\"end\"\r\n\t\t\t\t\t      style={{height: 500}}\r\n\t\t\t\t\t    />\r\n\t\t\t\t\t    <div style={{display:'flex', justifyContent:'center'}}>\r\n\t\t\t\t  \t\t<EventDetails eventImg={eventImg} eventLink={eventLink} eventTitle={eventTitle}/>\r\n\t\t\t\t  \t\t</div>\r\n\t\t\t\t  \t\t<div id='buttonDiv'>\r\n\t\t\t\t\t\t\t<button className='h3 ma4' onClick={this.SaveSearch}>Save This Event</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t</div> \r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<div id='calendar' className='pa2 ma2 shadow-5'>\r\n\t\t\t\t    <Calendar\r\n\t\t\t\t      localizer={localizer}\r\n\t\t\t\t      events={events}\r\n\t\t\t\t      startAccessor=\"start\"\r\n\t\t\t\t      endAccessor=\"end\"\r\n\t\t\t\t      style={{height: 500}}\r\n\t\t\t\t    />\r\n\t\t\t\t    <div style={{display:'flex', justifyContent:'center'}}>\r\n\t\t\t\t    <EventDetails eventImg={eventImg} eventLink={eventLink} eventTitle={eventTitle}/>\r\n\t\t\t\t    </div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t\t\r\n}\r\n\r\nexport default CalendarTest;"]},"metadata":{},"sourceType":"module"}