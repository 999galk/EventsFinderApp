{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gal\\\\Desktop\\\\Udemy\\\\event_finder_app\\\\src\\\\components\\\\Calendar.js\";\nimport React from 'react';\nconsole.log('got to calendar component');\n\nclass Calendar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.createCalendar = () => {\n      const city = this.props.city;\n      const countryCode = this.props.countryCode;\n      const calDiv = document.getElementById('calendar');\n\n      if (calDiv.childElementCount) {\n        let innerDiv = document.getElementById('innerCalendar');\n        innerDiv.remove();\n      }\n\n      const div = document.createElement('div'); //div.id='innerCalendar';\n\n      function setAttributes(el, attrs) {\n        for (let key in attrs) {\n          el.setAttribute(key, attrs[key]);\n        }\n      }\n\n      setAttributes(div, {\n        'w-type': 'calendar',\n        'w-tmapikey': 'BTAzLLcXX3xXtooi8WdIktbOn1C3irib',\n        'w-googleapikey': \"YOUR_GOOGLE_API_KEY\",\n        'w-keyword': '',\n        'w-theme': \"calendar\",\n        'w-colorscheme': \"light\",\n        'w-width': \"298\",\n        'w-height': \"400\",\n        'w-size': \"25\",\n        'w-border': \"1\",\n        'w-borderradius': \"4\",\n        'w-postalcode': \"\",\n        'w-radius': \"25\",\n        'w-period': \"Thu Jan 09 2020 13:04:11 GMT+0200 (Israel Standard Time)\",\n        'w-periodweek': \"week\",\n        'w-layout': \"vertical\",\n        'w-classificationid': \"\",\n        'w-attractionid': \"\",\n        'w-promoterid': \"\",\n        'w-venueid': \"\",\n        'w-affiliateid': \"\",\n        'w-segmentid': \"\",\n        'w-proportion': \"standart\",\n        'w-countrycode': countryCode,\n        'w-city': city,\n        'w-latlong': \"\"\n      }); // const script = document.createElement(\"script\");\n      //    script.async = true;\n      //    script.src = \"https://ticketmaster-api-staging.github.io/products-and-docs/widgets/calendar/1.0.0/lib/main-widget.js\";\n\n      calDiv.appendChild(div); // calDiv.appendChild(script);\n    };\n\n    this.SaveSearch = () => {\n      fetch('http://localhost:5000/saveSearch', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: this.props.userId,\n          city: this.props.city,\n          countryCode: this.props.countryCode\n        })\n      }).then(response => response.json()).then(user => {\n        console.log('user back in cal:', user);\n\n        if (user.userId === this.props.userId) {\n          const btnDiv = document.getElementById('buttonDiv');\n          const msg = document.createElement(\"p\");\n          msg.textContent = \"search saved to your profile!\";\n          btnDiv.appendChild(msg);\n        }\n      });\n    };\n\n    this.state = {\n      calendarAdded: false\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.city) {\n      this.createCalendar();\n    }\n\n    console.log('got to calendar component did mount');\n    const calDiv = document.getElementById('calendar');\n    const script = document.createElement(\"script\");\n    script.async = true;\n    script.src = \"https://ticketmaster-api-staging.github.io/products-and-docs/widgets/calendar/1.0.0/lib/main-widget.js\";\n    ;\n    calDiv.appendChild(script);\n    this.setState({\n      calendarAdded: true\n    });\n  }\n\n  render() {\n    if (this.props.isSignedIn) {\n      return React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"calendar\",\n        className: \"pa4\",\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Add Event to my google calendar\")), React.createElement(\"div\", {\n        id: \"buttonDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"h3 ma4\",\n        onClick: this.SaveSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Save This Search\")));\n    } else {\n      return React.createElement(\"div\", {\n        id: \"calendar\",\n        className: \"pa4\",\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default Calendar;","map":{"version":3,"sources":["C:/Users/Gal/Desktop/Udemy/event_finder_app/src/components/Calendar.js"],"names":["React","console","log","Calendar","Component","constructor","props","createCalendar","city","countryCode","calDiv","document","getElementById","childElementCount","innerDiv","remove","div","createElement","setAttributes","el","attrs","key","setAttribute","appendChild","SaveSearch","fetch","method","headers","body","JSON","stringify","user","userId","then","response","json","btnDiv","msg","textContent","state","calendarAdded","componentDidMount","script","async","src","setState","render","isSignedIn","display","justifyContent"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nconsole.log('got to calendar component');\r\nclass Calendar extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcalendarAdded : false\r\n\t\t}\r\n\t}\r\n\r\n\tcreateCalendar = () =>{\r\n\t\tconst city = this.props.city;\r\n\t\tconst countryCode = this.props.countryCode;\r\n\t\tconst calDiv = document.getElementById('calendar');\r\n\t\tif (calDiv.childElementCount){\r\n\t    \tlet innerDiv = document.getElementById('innerCalendar');\r\n\t    \tinnerDiv.remove();\r\n\t    }\r\n\t\tconst div = document.createElement('div');\r\n\t\t//div.id='innerCalendar';\r\n\t\tfunction setAttributes(el, attrs) {\r\n\t\t  for(let key in attrs) {\r\n\t\t    el.setAttribute(key, attrs[key]);\r\n\t\t  }\r\n\t\t}\r\n\t\tsetAttributes(div, {'w-type': 'calendar', 'w-tmapikey':'BTAzLLcXX3xXtooi8WdIktbOn1C3irib','w-googleapikey':\"YOUR_GOOGLE_API_KEY\",\r\n\t\t\t\t\t\t\t'w-keyword':'','w-theme':\"calendar\",'w-colorscheme':\"light\", 'w-width':\"298\", 'w-height':\"400\", \r\n\t\t\t\t\t\t\t'w-size':\"25\", 'w-border':\"1\", 'w-borderradius':\"4\", 'w-postalcode':\"\",'w-radius':\"25\", \r\n\t\t\t\t\t\t\t'w-period':\"Thu Jan 09 2020 13:04:11 GMT+0200 (Israel Standard Time)\",\r\n\t\t\t\t\t\t\t'w-periodweek':\"week\", 'w-layout':\"vertical\", 'w-classificationid':\"\", 'w-attractionid':\"\", \r\n\t\t\t\t\t\t\t'w-promoterid':\"\", 'w-venueid':\"\", 'w-affiliateid':\"\", 'w-segmentid':\"\", 'w-proportion':\"standart\",\r\n\t\t\t\t\t\t\t'w-countrycode':countryCode, 'w-city':city, 'w-latlong':\"\" });\r\n\t\t// const script = document.createElement(\"script\");\r\n\t //    script.async = true;\r\n\t //    script.src = \"https://ticketmaster-api-staging.github.io/products-and-docs/widgets/calendar/1.0.0/lib/main-widget.js\";\r\n\t\tcalDiv.appendChild(div);\r\n\t\t// calDiv.appendChild(script);\r\n\t}\r\n\r\n\tSaveSearch = () => {\r\n\t\tfetch('http://localhost:5000/saveSearch', {\r\n\t      method: 'post',\r\n\t      headers: {'Content-Type': 'application/json'},\r\n\t      body: JSON.stringify({\r\n\t        user : this.props.userId,\r\n\t        city: this.props.city,\r\n\t        countryCode: this.props.countryCode\r\n\t      })\r\n\t    })\r\n\t      .then(response => response.json())\r\n\t      .then(user => {\r\n\t      \tconsole.log('user back in cal:',user);\r\n\t        if (user.userId === this.props.userId) {\r\n\t        \tconst btnDiv = document.getElementById('buttonDiv');\r\n\t        \tconst msg = document.createElement(\"p\");\r\n\t        \tmsg.textContent = \"search saved to your profile!\";\r\n\t        \tbtnDiv.appendChild(msg);\r\n\t        }\r\n\t      })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif(this.props.city){\r\n\t\t\tthis.createCalendar();\r\n\t\t}\r\n\t    console.log('got to calendar component did mount');\r\n\t    const calDiv = document.getElementById('calendar');\r\n\t    const script = document.createElement(\"script\");\r\n\t    script.async = true;\r\n\t    script.src = \"https://ticketmaster-api-staging.github.io/products-and-docs/widgets/calendar/1.0.0/lib/main-widget.js\";;\r\n\t\tcalDiv.appendChild(script);\r\n\t\tthis.setState({calendarAdded : true});\r\n  \t}\r\n\r\n\trender(){\r\n\t\tif(this.props.isSignedIn){\r\n\t\t\treturn(\r\n\t\t\t\t<div style={{display:'flex', justifyContent:'center'}}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div id='calendar' className='pa4' style={{display:'flex', justifyContent:'center'}}>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button className='h2'>Add Event to my google calendar</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id='buttonDiv'>\r\n\t\t\t\t\t<button className='h3 ma4' onClick={this.SaveSearch}>Save This Search</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> \r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\treturn(\r\n\t\t\t\t<div id='calendar' className='pa4' style={{display:'flex', justifyContent:'center'}}>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\t\t\r\n}\r\n\r\nexport default Calendar;"]},"metadata":{},"sourceType":"module"}